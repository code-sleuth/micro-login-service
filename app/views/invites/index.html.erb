<!DOCTYPE html>
<html>
  <head>
    <title>Setup</title>
    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>

    <style>
    #DIV_1 {
        bottom: 0px;
        color: rgb(68, 68, 68);
        height: 100vh;
        left: 0px;
        position: fixed;
        right: 0px;
        text-align: center;
        text-decoration: none solid rgb(68, 68, 68);
        text-size-adjust: 100%;
        top: 0px;
        width: 1440px;
        column-rule-color: rgb(68, 68, 68);
        align-content: center;
        justify-content: center;
        perspective-origin: 720px 357.5px;
        transform-origin: 720px 357.5px;
        caret-color: rgb(68, 68, 68);
        background: rgb(54, 75, 170) none repeat scroll 0% 0% / auto padding-box border-box;
        border: 0px none rgb(68, 68, 68);
        font: normal normal 300 normal 14px / 18.2px Roboto, sans-serif;
        outline: rgb(68, 68, 68) none 0px;
    }/*#DIV_1*/

    #DIV_2 {
        bottom: 0px;
        box-shadow: rgba(0, 0, 0, 0.1) 0px 0px 20px 2px;
        color: rgb(255, 255, 255);
        height: 100vh;
        left: 504px;
        position: absolute;
        right: 502px;
        text-align: center;
        text-decoration: none solid rgb(255, 255, 255);
        text-size-adjust: 100%;
        top: 0px;
        vertical-align: text-top;
        width: 432px;
        column-rule-color: rgb(255, 255, 255);
        align-content: center;
        justify-content: center;
        perspective-origin: 217px 357.5px;
        transform-origin: 217px 357.5px;
        caret-color: rgb(255, 255, 255);
        background: rgb(51, 88, 223) none repeat scroll 0% 0% / auto padding-box border-box;
        border-top: 0px none rgb(255, 255, 255);
        border-right: 1px solid rgba(0, 0, 0, 0.2);
        border-bottom: 0px none rgb(255, 255, 255);
        border-left: 1px solid rgba(0, 0, 0, 0.2);
        font: normal normal 300 normal 14px / 18.2px Roboto, sans-serif;
        outline: rgb(255, 255, 255) none 0px;
    }/*#DIV_2*/

    #DIV_3 {
        color: rgb(255, 255, 255);
        height: 96px;
        text-align: center;
        text-decoration: none solid rgb(255, 255, 255);
        text-size-adjust: 100%;
        width: 432px;
        column-rule-color: rgb(255, 255, 255);
        perspective-origin: 216px 48px;
        transform-origin: 216px 48px;
        caret-color: rgb(255, 255, 255);
        border: 0px none rgb(255, 255, 255);
        font: normal normal 300 normal 14px / 18.2px Roboto, sans-serif;
        margin: 237.594px 0px 0px;
        outline: rgb(255, 255, 255) none 0px;
    }/*#DIV_3*/

    #SPAN_4 {
        color: rgb(255, 255, 255);
        text-align: center;
        text-decoration: none solid rgb(255, 255, 255);
        text-size-adjust: 100%;
        column-rule-color: rgb(255, 255, 255);
        perspective-origin: 0px 0px;
        transform-origin: 0px 0px;
        caret-color: rgb(255, 255, 255);
        border: 0px none rgb(255, 255, 255);
        font: normal normal 300 normal 14px / 18.2px Roboto, sans-serif;
        outline: rgb(255, 255, 255) none 0px;
    }/*#SPAN_4*/

    #IMG_5 {
        color: rgb(255, 255, 255);
        height: 92px;
        text-align: center;
        text-decoration: none solid rgb(255, 255, 255);
        text-size-adjust: 100%;
        width: 92px;
        column-rule-color: rgb(255, 255, 255);
        perspective-origin: 46px 46px;
        transform-origin: 46px 46px;
        caret-color: rgb(255, 255, 255);
        border: 0px none rgb(255, 255, 255);
        font: normal normal 300 normal 14px / 18.2px Roboto, sans-serif;
        outline: rgb(255, 255, 255) none 0px;
    }/*#IMG_5*/

    #DIV_6 {
        color: rgb(255, 255, 255);
        height: 40px;
        text-align: center;
        text-decoration: none solid rgb(255, 255, 255);
        text-size-adjust: 100%;
        width: 432px;
        column-rule-color: rgb(255, 255, 255);
        perspective-origin: 216px 20px;
        transform-origin: 216px 20px;
        caret-color: rgb(255, 255, 255);
        border: 0px none rgb(255, 255, 255);
        font: normal normal 300 normal 14px / 18.2px Roboto, sans-serif;
        outline: rgb(255, 255, 255) none 0px;
    }/*#DIV_6*/

    #H1_7 {
        color: rgb(255, 255, 255);
        height: 40px;
        text-align: center;
        text-decoration: none solid rgb(255, 255, 255);
        text-size-adjust: 100%;
        width: 432px;
        column-rule-color: rgb(255, 255, 255);
        perspective-origin: 216px 20px;
        transform-origin: 216px 20px;
        caret-color: rgb(255, 255, 255);
        border: 0px none rgb(255, 255, 255);
        font: normal normal 100 normal 20px / 0px Roboto, sans-serif;
        margin: 20px 0px 10px;
        outline: rgb(255, 255, 255) none 0px;
    }/*#H1_7*/

    .A_8 {
        /* display: flex; */
        height: 45px;
        text-align: center;
        text-decoration: none solid rgb(33, 150, 243);
        text-size-adjust: 100%;
        width: 280px;
        column-rule-color: rgb(33, 150, 243);
        align-content: center;
        justify-content: center;
        perspective-origin: 140px 22.5px;
        transform-origin: 140px 22.5px;
        caret-color: rgb(33, 150, 243);
        background: rgb(255, 255, 255) none repeat scroll 0% 0% / auto padding-box border-box;
        border: 0px none rgb(33, 150, 243);
        border-radius: 3px;
        font: normal normal 300 normal 16px / 18.2px Roboto, sans-serif;
        margin: 5px 76px;
        outline: rgb(33, 150, 243) none 0px;
    }/*#A_8*/

    #Link {
        display: flex;
    }
    #SPAN_9 {
        background-position: 50% 50%;
        box-sizing: border-box;
        color: rgb(33, 150, 243);
        cursor: pointer;
        display: block;
        height: 45px;
        min-height: auto;
        min-width: auto;
        text-align: center;
        text-decoration: none solid rgb(33, 150, 243);
        text-size-adjust: 100%;
        width: 56px;
        column-rule-color: rgb(33, 150, 243);
        perspective-origin: 28px 22.5px;
        transform-origin: 28px 22.5px;
        caret-color: rgb(33, 150, 243);
        background: rgba(0, 0, 0, 0) url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQ0MyIgaGVpZ2h0PSIyNTAwIiB2aWV3Qm94PSIwIDAgMjU2IDI2MiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSJ4TWlkWU1pZCI+PHBhdGggZD0iTTI1NS44NzggMTMzLjQ1MWMwLTEwLjczNC0uODcxLTE4LjU2Ny0yLjc1Ni0yNi42OUgxMzAuNTV2NDguNDQ4aDcxLjk0N2MtMS40NSAxMi4wNC05LjI4MyAzMC4xNzItMjYuNjkgNDIuMzU2bC0uMjQ0IDEuNjIyIDM4Ljc1NSAzMC4wMjMgMi42ODUuMjY4YzI0LjY1OS0yMi43NzQgMzguODc1LTU2LjI4MiAzOC44NzUtOTYuMDI3IiBmaWxsPSIjNDI4NUY0Ii8+PHBhdGggZD0iTTEzMC41NSAyNjEuMWMzNS4yNDggMCA2NC44MzktMTEuNjA1IDg2LjQ1My0zMS42MjJsLTQxLjE5Ni0zMS45MTNjLTExLjAyNCA3LjY4OC0yNS44MiAxMy4wNTUtNDUuMjU3IDEzLjA1NS0zNC41MjMgMC02My44MjQtMjIuNzczLTc0LjI2OS01NC4yNWwtMS41MzEuMTMtNDAuMjk4IDMxLjE4Ny0uNTI3IDEuNDY1QzM1LjM5MyAyMzEuNzk4IDc5LjQ5IDI2MS4xIDEzMC41NSAyNjEuMSIgZmlsbD0iIzM0QTg1MyIvPjxwYXRoIGQ9Ik01Ni4yODEgMTU2LjM3Yy0yLjc1Ni04LjEyMy00LjM1MS0xNi44MjctNC4zNTEtMjUuODIgMC04Ljk5NCAxLjU5NS0xNy42OTcgNC4yMDYtMjUuODJsLS4wNzMtMS43M0wxNS4yNiA3MS4zMTJsLTEuMzM1LjYzNUM1LjA3NyA4OS42NDQgMCAxMDkuNTE3IDAgMTMwLjU1czUuMDc3IDQwLjkwNSAxMy45MjUgNTguNjAybDQyLjM1Ni0zMi43ODIiIGZpbGw9IiNGQkJDMDUiLz48cGF0aCBkPSJNMTMwLjU1IDUwLjQ3OWMyNC41MTQgMCA0MS4wNSAxMC41ODkgNTAuNDc5IDE5LjQzOGwzNi44NDQtMzUuOTc0QzE5NS4yNDUgMTIuOTEgMTY1Ljc5OCAwIDEzMC41NSAwIDc5LjQ5IDAgMzUuMzkzIDI5LjMwMSAxMy45MjUgNzEuOTQ3bDQyLjIxMSAzMi43ODNjMTAuNTktMzEuNDc3IDM5Ljg5MS01NC4yNTEgNzQuNDE0LTU0LjI1MSIgZmlsbD0iI0VCNDMzNSIvPjwvc3ZnPg==") no-repeat scroll 50% 50% / 40% padding-box border-box;
        border-top: 0px none rgb(33, 150, 243);
        border-right: 1px solid rgb(179, 179, 179);
        border-bottom: 0px none rgb(33, 150, 243);
        border-left: 0px none rgb(33, 150, 243);
        font: normal normal 300 normal 14px / 18.2px Roboto, sans-serif;
        outline: rgb(33, 150, 243) none 0px;
        padding: 3px;
    }/*#SPAN_9*/

    #SPAN_10 {
        box-sizing: border-box;
        color: rgb(109, 108, 108);
        cursor: pointer;
        display: flex;
        height: 45px;
        min-height: auto;
        min-width: auto;
        text-align: center;
        text-decoration: none solid rgb(109, 108, 108);
        text-size-adjust: 100%;
        text-transform: uppercase;
        width: 224px;
        column-rule-color: rgb(109, 108, 108);
        justify-content: center;
        perspective-origin: 112px 22.5px;
        transform-origin: 112px 22.5px;
        caret-color: rgb(109, 108, 108);
        border: 0px none rgb(109, 108, 108);
        flex: 1 1 0%;
        flex-flow: column nowrap;
        font: normal normal 500 normal 12px / 12px Roboto, sans-serif;
        outline: rgb(109, 108, 108) none 0px;
        padding: 8px;
    }/*#SPAN_10*/


    .A_9 {
        text-transform: uppercase;
        letter-spacing: 3px;
        background: rgb(33, 150, 243) !important;
        text-decoration: none;
        color: #ffffff !important;
    }

    .A_9:hover {
        opacity: 0.8;
        cursor:pointer;

    }
    </style>

  </head>
  <div id="DIV_1">
	<div id="DIV_2">
		<div id="DIV_3">
			<span id="SPAN_4"><%= image_tag "loginLogo.svg", alt:"logo", id:"IMG_5" %></span>
		</div>
		<div id="DIV_6">
            <% if not @request_new_link %>
                <h3 id="H1_7">
                    Setup password
                </h3>
            <% else %>
                <h3 id="H1_7">
                    Expired or Broken Link
                </h3>
            <% end %>
            <div>

                <% if @response %>
                    <div><%= @response[:json][:error] %></div>
                    <div><%= @response[:json][:linkSent] %></div>
                    <div><%= @response[:json][:status] %></div>
                <% end %>

                <% if @show_form %>
                    <%= form_with url: invites_path do |form| %>
                        <%= form.text_field :password, class:"A_8", type: "password", placeholder: "Setup password" %>
                        <%= form.text_field :password_confirmation, class:"A_8", type: "password", placeholder: "Confirm password" %>
                        <% if @token.blank? %>
                            <%= hidden_field_tag :token, params[:token] %>
                        <% else %>
                            <%= hidden_field_tag :token, @token %>
                        <% end %>
                        <%= form.submit "Submit", class:"A_8 A_9" %>
                    <% end %>
                <% else %>
                    <%= form_with url: invites_path do |form| %>
                        <%= form.text_field :email, class:"A_8", type: "email", placeholder: "Enter your email" %>
                        <%= hidden_field_tag :broken, true %>
                        <%= form.submit "Request New Link", class:"A_8 A_9", id: "LINK" %>
                    <% end %>
                <%end%>
            </div>
		</div>
	</div>
</div>
</html>